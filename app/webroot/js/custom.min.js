$(function () {
    "use strict";
    $(".preloader").fadeOut(), feather.replace(), $(".left-sidebar").hover(function () {
        $(".navbar-header").addClass("expand-logo")
    }, function () {
        $(".navbar-header").removeClass("expand-logo")
    }), $(".nav-toggler").on("click", function () {
        $("#main-wrapper").toggleClass("show-sidebar"), $(".nav-toggler i").toggleClass("fa-list fa-arrow-left")
    }), $(".search-box a, .search-box .app-search .srh-btn").on("click", function () {
        $(".app-search").toggle(200), $(".app-search input").focus()
    }), $(function () {
        $(".service-panel-toggle").on("click", function () {
            $(".customizer").toggleClass("show-service-panel")
        }), $(".page-wrapper").on("click", function () {
            //$(".customizer").removeClass("show-service-panel")
        })
    }), $(".floating-labels .form-control").on("focus blur", function (e) {
        $(this).parents(".form-group").toggleClass("focused", "focus" === e.type || 0 < this.value.length)
    }).trigger("blur"), $(function () {
        [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function (e) {
            return new bootstrap.Tooltip(e)
        })
    }), $(function () {
        [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function (e) {
            return new bootstrap.Popover(e)
        })
    }), $(".message-center, .customizer-body, .scrollable").perfectScrollbar({
        wheelPropagation: !0
    }), $("body, .page-wrapper").trigger("resize"), $(".page-wrapper").delay(20).show(), $(".list-task li label").click(function () {
        $(this).toggleClass("task-done")
    }), $('a[data-action="collapse"]').on("click", function (e) {
        e.preventDefault(), $(this).closest(".card").find('[data-action="collapse"] i').toggleClass("fa-minus fa-plus"), $(this).closest(".card").children(".card-body").collapse("toggle")
    }), $('a[data-action="expand"]').on("click", function (e) {
        e.preventDefault(), $(this).closest(".card").find('[data-action="expand"] i').toggleClass("fa-minus fa-plus"), $(this).closest(".card").toggleClass("card-fullscreen")
    }), $('a[data-action="close"]').on("click", function () {
        $(this).closest(".card").removeClass().slideUp("fast")
    }), $(".mega-dropdown").on("click", function (e) {
        e.stopPropagation()
    }), $(".show-left-part").on("click", function () {
        $(".left-part").toggleClass("show-panel"), $(".show-left-part i").toggleClass("fa-arrow-right fa-arrow-left")
    }), $(".custom-file-input").on("change", function () {
        var e = $(this).val();
        $(this).next(".custom-file-label").html(e)
    })
});


$(document).ready(function () {
    if ($("select").length) {
        $("select").select2({dropdownAutoWidth: true});
    }
    if ($(".table-responsive").length) {
        $('.table-responsive').doubleScroll({resetOnWindowResize: true});
    }
    $('form :input[value="PUT"]').remove();

    $(".datepicker, .clockpicker, .monthpicker, .yearpicker").attr("autocomplete", "off");
    if ($(".datepicker").length) {
        $('.datepicker').datepicker({
            autoclose: true,
            todayHighlight: true
        });
    }
    if ($(".monthpicker").length) {
        $('.monthpicker').datepicker({
            format: "yyyy-mm",
            viewMode: "months",
            minViewMode: "months",
            autoclose: true
        });
    }
    if ($(".yearpicker").length) {
        $('.yearpicker').datepicker({
            format: "yyyy",
            viewMode: "years",
            minViewMode: "years",
            autoclose: true
        });
    }

    var isLink = false;
    $('.pagination').find('a').click(function (e) {
        isLink = true;
        $(this).closest("form").attr('action', $(this).attr('href')).submit();
        e.preventDefault();
    });
    $('.panel-body').find('form').submit(function (e) {
        if (!isLink) {
            var _url = $(this).closest("form").attr('action').split("page:");
            $(this).closest("form").attr('action', _url[0]).submit();
        }
    });
});
